{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from '../components/Login.vue';\nimport Home from '../components/Home.vue';\nimport Welcome from '../components/Welcome.vue';\nimport Users from '../components/user/User.vue';\nimport Rights from '../components/power/Rights.vue';\nimport Roles from '../components/power/Roles.vue';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/login',\n    component: Login\n  }, {\n    path: '/home',\n    redirect: '/Welcome',\n    component: Home,\n    children: [{\n      path: '/Welcome',\n      component: Welcome\n    }, {\n      path: '/users',\n      component: Users\n    }, {\n      path: '/rights',\n      component: Rights\n    }]\n  }]\n}); //挂载路由导航守卫\n\nrouter.beforeEach((to, from, next) => {\n  //to将要访问的路径\n  //from从原来的页面\n  //next是一个函数，表示放行\n  //next() 放行  next('./login')强制跳转\n  if (to.path === '/login') return next(); //获取token\n\n  const tokenStr = window.sessionStorage.getItem('token');\n  if (!tokenStr) return next('/login');\n  next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Home","Welcome","Users","Rights","Roles","use","router","routes","path","redirect","component","children","beforeEach","to","from","next","tokenStr","window","sessionStorage","getItem"],"sources":["C:/Users/Administrator/Desktop/Vue/vue_shop/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Login from '../components/Login.vue'\nimport Home from '../components/Home.vue'\nimport Welcome from '../components/Welcome.vue'\nimport Users from '../components/user/User.vue'\nimport Rights from '../components/power/Rights.vue'\nimport Roles from '../components/power/Roles.vue'\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n        routes: [\n            { path: '/', redirect: '/login' },\n            { path: '/login', component: Login },\n            {\n                path: '/home',\n                redirect: '/Welcome',\n                component: Home,\n                children: [\n                    { path: '/Welcome', component: Welcome },\n                    { path: '/users', component: Users },\n                    { path: '/rights', component: Rights }\n                ],\n            },\n        ],\n    })\n    //挂载路由导航守卫\nrouter.beforeEach((to, from, next) => {\n    //to将要访问的路径\n    //from从原来的页面\n    //next是一个函数，表示放行\n    //next() 放行  next('./login')强制跳转\n    if (to.path === '/login') return next()\n        //获取token\n    const tokenStr = window.sessionStorage.getItem('token')\n    if (!tokenStr) return next('/login')\n    next()\n})\nexport default router"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACAP,GAAG,CAACQ,GAAJ,CAAQP,SAAR;AAEA,MAAMQ,MAAM,GAAG,IAAIR,SAAJ,CAAc;EACrBS,MAAM,EAAE,CACJ;IAAEC,IAAI,EAAE,GAAR;IAAaC,QAAQ,EAAE;EAAvB,CADI,EAEJ;IAAED,IAAI,EAAE,QAAR;IAAkBE,SAAS,EAAEX;EAA7B,CAFI,EAGJ;IACIS,IAAI,EAAE,OADV;IAEIC,QAAQ,EAAE,UAFd;IAGIC,SAAS,EAAEV,IAHf;IAIIW,QAAQ,EAAE,CACN;MAAEH,IAAI,EAAE,UAAR;MAAoBE,SAAS,EAAET;IAA/B,CADM,EAEN;MAAEO,IAAI,EAAE,QAAR;MAAkBE,SAAS,EAAER;IAA7B,CAFM,EAGN;MAAEM,IAAI,EAAE,SAAR;MAAmBE,SAAS,EAAEP;IAA9B,CAHM;EAJd,CAHI;AADa,CAAd,CAAf,C,CAgBI;;AACJG,MAAM,CAACM,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EAClC;EACA;EACA;EACA;EACA,IAAIF,EAAE,CAACL,IAAH,KAAY,QAAhB,EAA0B,OAAOO,IAAI,EAAX,CALQ,CAM9B;;EACJ,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAjB;EACA,IAAI,CAACH,QAAL,EAAe,OAAOD,IAAI,CAAC,QAAD,CAAX;EACfA,IAAI;AACP,CAVD;AAWA,eAAeT,MAAf"},"metadata":{},"sourceType":"module"}