{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"../components/Login.vue\";\nimport Home from \"../components/Home.vue\";\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: \"/\",\n    redirect: \"/login\"\n  }, {\n    path: \"/login\",\n    component: Login\n  }, {\n    path: \"/home\",\n    component: Home\n  }]\n}); //挂载路由导航守卫\n\nrouter.beforeEach((to, from, next) => {\n  //to将要访问的路径\n  //from从原来的页面\n  //next是一个函数，表示放行\n  //next() 放行  next('./login')强制跳转\n  if (to.path === \"/login\") return next(); //获取token\n\n  const tokenStr = window.sessionStorage.getItem(\"token\");\n  if (!tokenStr) return next(\"/login\");\n  next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Home","use","router","routes","path","redirect","component","beforeEach","to","from","next","tokenStr","window","sessionStorage","getItem"],"sources":["C:/Users/Administrator/Desktop/Vue/vue_shop/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"../components/Login.vue\";\nimport Home from \"../components/Home.vue\";\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n    routes: [\n        { path: \"/\", redirect: \"/login\" },\n        { path: \"/login\", component: Login },\n        { path: \"/home\", component: Home },\n    ],\n});\n//挂载路由导航守卫\nrouter.beforeEach((to, from, next) => {\n    //to将要访问的路径\n    //from从原来的页面\n    //next是一个函数，表示放行\n    //next() 放行  next('./login')强制跳转\n    if (to.path === \"/login\") return next();\n    //获取token\n    const tokenStr = window.sessionStorage.getItem(\"token\");\n    if (!tokenStr) return next(\"/login\");\n    next();\n});\nexport default router;"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACAH,GAAG,CAACI,GAAJ,CAAQH,SAAR;AAEA,MAAMI,MAAM,GAAG,IAAIJ,SAAJ,CAAc;EACzBK,MAAM,EAAE,CACJ;IAAEC,IAAI,EAAE,GAAR;IAAaC,QAAQ,EAAE;EAAvB,CADI,EAEJ;IAAED,IAAI,EAAE,QAAR;IAAkBE,SAAS,EAAEP;EAA7B,CAFI,EAGJ;IAAEK,IAAI,EAAE,OAAR;IAAiBE,SAAS,EAAEN;EAA5B,CAHI;AADiB,CAAd,CAAf,C,CAOA;;AACAE,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EAClC;EACA;EACA;EACA;EACA,IAAIF,EAAE,CAACJ,IAAH,KAAY,QAAhB,EAA0B,OAAOM,IAAI,EAAX,CALQ,CAMlC;;EACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAjB;EACA,IAAI,CAACH,QAAL,EAAe,OAAOD,IAAI,CAAC,QAAD,CAAX;EACfA,IAAI;AACP,CAVD;AAWA,eAAeR,MAAf"},"metadata":{},"sourceType":"module"}